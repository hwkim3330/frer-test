<svg viewBox="0 0 1200 500" xmlns="http://www.w3.org/2000/svg">
    <!-- Background -->
    <rect x="0" y="0" width="1200" height="500" fill="#f8f9fa"/>

    <!-- Title -->
    <text x="600" y="40" text-anchor="middle" font-size="24" font-weight="bold" fill="#333">
        IEEE 802.1CB FRER Test Configuration
    </text>
    <text x="600" y="65" text-anchor="middle" font-size="16" fill="#666">
        2 Linux PCs + 2 LAN9662 Boards
    </text>

    <!-- Grid lines for clarity -->
    <line x1="300" y1="80" x2="300" y2="450" stroke="#e0e0e0" stroke-width="1" stroke-dasharray="5,5"/>
    <line x1="600" y1="80" x2="600" y2="450" stroke="#e0e0e0" stroke-width="1" stroke-dasharray="5,5"/>
    <line x1="900" y1="80" x2="900" y2="450" stroke="#e0e0e0" stroke-width="1" stroke-dasharray="5,5"/>

    <!-- Sender PC -->
    <g id="sender-pc">
        <rect x="50" y="200" width="180" height="140" fill="#28a745" rx="15"/>
        <rect x="60" y="210" width="160" height="30" fill="rgba(255,255,255,0.2)" rx="10"/>
        <text x="140" y="230" text-anchor="middle" fill="white" font-size="18" font-weight="bold">Sender PC</text>
        <text x="140" y="260" text-anchor="middle" fill="white" font-size="14">IP: 10.0.100.1</text>
        <text x="140" y="280" text-anchor="middle" fill="white" font-size="12">Interface: enp2s0</text>
        <text x="140" y="300" text-anchor="middle" fill="white" font-size="12">Role: Traffic Generator</text>
        <text x="140" y="320" text-anchor="middle" fill="white" font-size="12">iperf3 client</text>
    </g>

    <!-- Sender Board -->
    <g id="sender-board">
        <rect x="350" y="150" width="200" height="240" fill="#667eea" rx="15"/>
        <rect x="360" y="160" width="180" height="35" fill="rgba(255,255,255,0.2)" rx="10"/>
        <text x="450" y="183" text-anchor="middle" fill="white" font-size="18" font-weight="bold">Sender Board</text>
        <text x="450" y="210" text-anchor="middle" fill="white" font-size="14">LAN9662</text>

        <!-- Ports -->
        <circle cx="370" cy="270" r="8" fill="white"/>
        <text x="370" y="290" text-anchor="middle" fill="white" font-size="10">eth3</text>

        <circle cx="530" cy="200" r="8" fill="white"/>
        <text x="545" y="200" text-anchor="start" fill="white" font-size="10">eth1</text>

        <circle cx="530" cy="340" r="8" fill="white"/>
        <text x="545" y="340" text-anchor="start" fill="white" font-size="10">eth2</text>

        <!-- Functions -->
        <rect x="375" y="225" width="150" height="100" fill="rgba(255,255,255,0.1)" rx="5"/>
        <text x="450" y="245" text-anchor="middle" fill="white" font-size="12">• VCAP Classification</text>
        <text x="450" y="265" text-anchor="middle" fill="white" font-size="12">• FRER Generation</text>
        <text x="450" y="285" text-anchor="middle" fill="white" font-size="12">• Frame Duplication</text>
        <text x="450" y="305" text-anchor="middle" fill="white" font-size="12">• R-TAG Addition</text>
    </g>

    <!-- Receiver Board -->
    <g id="receiver-board">
        <rect x="650" y="150" width="200" height="240" fill="#764ba2" rx="15"/>
        <rect x="660" y="160" width="180" height="35" fill="rgba(255,255,255,0.2)" rx="10"/>
        <text x="750" y="183" text-anchor="middle" fill="white" font-size="18" font-weight="bold">Receiver Board</text>
        <text x="750" y="210" text-anchor="middle" fill="white" font-size="14">LAN9662</text>

        <!-- Ports -->
        <circle cx="670" cy="200" r="8" fill="white"/>
        <text x="655" y="200" text-anchor="end" fill="white" font-size="10">eth1</text>

        <circle cx="670" cy="340" r="8" fill="white"/>
        <text x="655" y="340" text-anchor="end" fill="white" font-size="10">eth2</text>

        <circle cx="830" cy="270" r="8" fill="white"/>
        <text x="830" y="290" text-anchor="middle" fill="white" font-size="10">eth3</text>

        <!-- Functions -->
        <rect x="675" y="225" width="150" height="100" fill="rgba(255,255,255,0.1)" rx="5"/>
        <text x="750" y="245" text-anchor="middle" fill="white" font-size="12">• VCAP Classification</text>
        <text x="750" y="265" text-anchor="middle" fill="white" font-size="12">• Member Streams</text>
        <text x="750" y="285" text-anchor="middle" fill="white" font-size="12">• Duplicate Elimination</text>
        <text x="750" y="305" text-anchor="middle" fill="white" font-size="12">• R-TAG Removal</text>
    </g>

    <!-- Receiver PC -->
    <g id="receiver-pc">
        <rect x="950" y="200" width="180" height="140" fill="#dc3545" rx="15"/>
        <rect x="960" y="210" width="160" height="30" fill="rgba(255,255,255,0.2)" rx="10"/>
        <text x="1040" y="230" text-anchor="middle" fill="white" font-size="18" font-weight="bold">Receiver PC</text>
        <text x="1040" y="260" text-anchor="middle" fill="white" font-size="14">IP: 10.0.100.2</text>
        <text x="1040" y="280" text-anchor="middle" fill="white" font-size="12">Interface: enp15s0</text>
        <text x="1040" y="300" text-anchor="middle" fill="white" font-size="12">Role: Traffic Receiver</text>
        <text x="1040" y="320" text-anchor="middle" fill="white" font-size="12">iperf3 server</text>
    </g>

    <!-- Connections -->
    <!-- PC1 to Board1 -->
    <line x1="230" y1="270" x2="370" y2="270" stroke="#333" stroke-width="4"/>
    <polygon points="365,270 375,265 375,275" fill="#333"/>
    <text x="300" y="260" text-anchor="middle" font-size="12" fill="#333">Single Flow</text>
    <text x="300" y="290" text-anchor="middle" font-size="10" fill="#666">IPv4 UDP</text>

    <!-- Board1 to Board2 (Path 1) -->
    <line x1="530" y1="200" x2="670" y2="200" stroke="#ff6b6b" stroke-width="4"/>
    <polygon points="665,200 675,195 675,205" fill="#ff6b6b"/>
    <text x="600" y="190" text-anchor="middle" font-size="12" fill="#ff6b6b">Path 1 (Primary)</text>
    <text x="600" y="175" text-anchor="middle" font-size="10" fill="#666">R-TAG 0xF1C1</text>

    <!-- Board1 to Board2 (Path 2) -->
    <line x1="530" y1="340" x2="670" y2="340" stroke="#4ecdc4" stroke-width="4"/>
    <polygon points="665,340 675,335 675,345" fill="#4ecdc4"/>
    <text x="600" y="330" text-anchor="middle" font-size="12" fill="#4ecdc4">Path 2 (Redundant)</text>
    <text x="600" y="355" text-anchor="middle" font-size="10" fill="#666">R-TAG 0xF1C1</text>

    <!-- Board2 to PC2 -->
    <line x1="830" y1="270" x2="950" y2="270" stroke="#333" stroke-width="4"/>
    <polygon points="945,270 955,265 955,275" fill="#333"/>
    <text x="890" y="260" text-anchor="middle" font-size="12" fill="#333">Deduplicated</text>
    <text x="890" y="290" text-anchor="middle" font-size="10" fill="#666">Single Stream</text>

    <!-- Legend -->
    <g id="legend">
        <rect x="450" y="420" width="300" height="60" fill="white" stroke="#dee2e6" stroke-width="2" rx="10"/>
        <text x="600" y="440" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">Data Flow</text>
        <circle cx="480" cy="460" r="5" fill="#28a745"/>
        <text x="495" y="465" font-size="12" fill="#333">Generation</text>
        <circle cx="570" cy="460" r="5" fill="#667eea"/>
        <text x="585" y="465" font-size="12" fill="#333">Duplication</text>
        <circle cx="660" cy="460" r="5" fill="#dc3545"/>
        <text x="675" y="465" font-size="12" fill="#333">Elimination</text>
    </g>

    <!-- Performance Metrics Box -->
    <g id="metrics">
        <rect x="50" y="100" width="200" height="80" fill="white" stroke="#dee2e6" stroke-width="2" rx="10"/>
        <text x="150" y="125" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">Expected Metrics</text>
        <text x="60" y="145" font-size="11" fill="#666">• Duplication Rate: 100%</text>
        <text x="60" y="160" font-size="11" fill="#666">• Elimination Rate: 99.9%</text>
        <text x="60" y="175" font-size="11" fill="#666">• Latency: &lt; 1ms</text>
    </g>

    <!-- Configuration Notes -->
    <g id="config-notes">
        <rect x="950" y="100" width="200" height="80" fill="white" stroke="#dee2e6" stroke-width="2" rx="10"/>
        <text x="1050" y="125" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">Key Configuration</text>
        <text x="960" y="145" font-size="11" fill="#666">• VLAN ID: 10</text>
        <text x="960" y="160" font-size="11" fill="#666">• ISDX: 1, 3, 4</text>
        <text x="960" y="175" font-size="11" fill="#666">• CS ID: 0</text>
    </g>
</svg>